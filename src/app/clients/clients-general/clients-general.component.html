<div class="fondoGris">
  <mat-drawer-container class="screen">
    <div class="p-3">
      <div class="d-flex align-items-center justify-content-between">
        <!-- titulo de cliente -->
        <div class="d-flex align-items-center justify-content-start">
          <mat-icon class="color-dark">people</mat-icon>
          <h1 class="mb-0 ps-2 color-dark">Clientes</h1>
        </div>
        <!-- boton de filtrado -->
        <div class="d-flex align-items-center gap-2">
          <button matTooltip="Ver en Mapa" class="btn buttons-clients d-flex justify-content-center align-items-center">
            <mat-icon class="p-0 m-0">map</mat-icon>
            <span class="ms-1">Mapa</span>
          </button>
          <button matTooltip="Ver Filtros" class="btn buttons-clients d-flex align-items-center" (click)="drawer.toggle()">
            <mat-icon class="p-0 m-0">filter_list_alt</mat-icon>
            <span class="ms-1">Filtros</span>
          </button>
        </div>
      </div>
        <div class="pt-4">
          <!-- TABLA -->
          <div class="mat-elevation-z2">
            <div class="table-wrapper">
              <table mat-table [dataSource]="dataSource" matSort>
                <!-- Código Column -->
                <ng-container matColumnDef="codigo">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Código </th>
                  <td mat-cell *matCellDef="let row"> {{row.codigo}} </td>
                </ng-container>
                <!-- Nombre column -->
                <ng-container matColumnDef="nombre">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Nombre </th>
                  <td mat-cell *matCellDef="let row"> {{ row.nombre }} </td>
                </ng-container>
                <!-- Poblacion Column -->
                <ng-container matColumnDef="poblacion">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Población </th>
                  <td mat-cell *matCellDef="let row"> {{ row.poblacion }} </td>
                </ng-container>
                <!-- Provincia Column -->
                <ng-container matColumnDef="provincia">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Provincia </th>
                  <td mat-cell *matCellDef="let row"> {{ row.provincia }} </td>
                </ng-container>
                <!-- CP Column -->
                <ng-container matColumnDef="cp">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> C.P. </th>
                  <td mat-cell *matCellDef="let row"> {{ row.cp }} </td>
                </ng-container>
                <!-- Detalles Column -->
                <ng-container matColumnDef="detalles">
                  <th mat-header-cell *matHeaderCellDef> Detalles </th>
                  <td mat-cell *matCellDef="let row">
                    <button mat-icon-button color="primary" (click)="openDetailsDialog(row)"><mat-icon>visibility</mat-icon></button>
                  </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                <!-- Row shown when there is no matching data. -->
                <tr class="mat-row" *matNoDataRow></tr>
              </table>
            </div>
            <mat-paginator [pageSizeOptions]="[10, 25, 50, 100]" [pageSize]="10" showFirstLastButtons></mat-paginator>
          </div>
          <!-- END TABLA -->
        </div>
        
      </div>
      <!-- menu derecho -->
      <mat-drawer #drawer class="sidenav px-3" mode="over" position="end">
        <div class="d-flex align-items-center my-4 gap-3">
          <mat-icon>filter_list_alt</mat-icon>
          <h2 class="my-0">Filtro de Clientes</h2>
        </div>
        <form [formGroup]="form" (ngSubmit)="applyFilter()" class="d-flex flex-column gap-3">
          <div class="d-flex flex-column">
            <div class="mb-2 d-flex flex-column gap-3">
              <!-- Autocompletado -->
              <mat-form-field subscriptSizing="dynamic" class="">
                <mat-label>Nombre</mat-label>
                <input formControlName="NombreFilterControl" matInput>
              </mat-form-field>
              <!-- Autocompletado -->
              <mat-form-field subscriptSizing="dynamic" class="">
                <mat-label>Poblacion</mat-label>
                <input formControlName="PoblacionFilterControl" matInput>
              </mat-form-field>
              <!-- autocompletado -->
              <mat-form-field subscriptSizing="dynamic" class="">
                <mat-label>Provincia</mat-label>
                <input formControlName="ProvinciaFilterControl" matInput>
              </mat-form-field>
              <!-- select -->
              <mat-form-field subscriptSizing="dynamic" class="">
                <mat-label>CP</mat-label>
                <input formControlName="CpFilterControl" matInput>
              </mat-form-field>
            </div>
            <div class="content-end gap-2 d-flex mt-2">
              <button (click)="filtroReset()" class="buttons-clients text-white" mat-button>Limpiar</button>
              <button (click)="drawer.toggle()" class="buttons-clients text-white" mat-button>Cancelar</button>
            </div>
          </div>
        </form>
      </mat-drawer>
  </mat-drawer-container>
</div>
