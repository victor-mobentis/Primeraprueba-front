<div>
  <mobentis-popup-header [title]="translationService.t('clientDetail.title')" [icon]="'/assets/images/iconos/clientes-icon-dark.svg'"
    (close)="cerrarPopup()"></mobentis-popup-header>
 <!-- <div class="d-flex justify-content-start mb-2 flex-wrap py-1 px-4">
     <button class="btn btn-sm btn-outline-secondary me-2 mb-2">
        <i class="bi bi-x-circle me-1"></i> Cerrar
      </button>
      <button class="btn btn-sm btn-outline-secondary me-2 mb-2">
        <i class="bi bi-save me-1"></i> Guardar
      </button> 
      
    <button class="btn btn-sm btn-outline-secondary me-2 mb-2">
      <i class="bi bi-bar-chart-line me-1"></i> Estadísticas
    </button>
    <button class="btn btn-sm btn-outline-secondary me-2 mb-2">
      <i class="bi bi-clock-history me-1"></i> Historial de visitas
    </button>
    <button class="btn btn-sm btn-outline-secondary me-2 mb-2">
      <i class="bi bi-exclamation-triangle me-1"></i> Alertas
    </button>
    <button class="btn btn-sm btn-outline-secondary me-2 mb-2">
      <i class="bi bi-geo-alt me-1"></i> Situación
    </button>
    <button class="btn btn-sm btn-outline-secondary me-2 mb-2">
      <i class="bi bi-tools me-1"></i> Actions
    </button>
    <button class="btn btn-sm btn-outline-secondary me-2 mb-2">
      <i class="bi bi-cart3 me-1"></i> Pedidos
    </button>
    <button class="btn btn-sm btn-outline-secondary me-2 mb-2">
      <i class="bi bi-arrow-repeat me-1"></i> Rotación
    </button>
    <button class="btn btn-sm btn-outline-secondary me-2 mb-2">
      <i class="bi bi-currency-exchange me-1"></i> Cobros
    </button>
  </div>
</div>
-->
<mat-dialog-content class="container pt-0">

  <!-- Tabs -->
  <ul class="nav nav-tabs" id="clienteTabs" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link active" id="datos-tab" data-bs-toggle="tab" data-bs-target="#datos" type="button"
        role="tab">{{ 'clientDetail.tabs.data' | translate }}</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="horarios-tab" data-bs-toggle="tab" data-bs-target="#horarios" type="button"
        role="tab">{{ 'clientDetail.tabs.schedules' | translate }}</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="contactos-tab" data-bs-toggle="tab" data-bs-target="#contactos" type="button"
        role="tab">{{ 'clientDetail.tabs.contacts' | translate }}</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="crm-tab" data-bs-toggle="tab" data-bs-target="#crm" type="button"
        role="tab">{{ 'clientDetail.tabs.crm' | translate }}</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="mapa-tab" data-bs-toggle="tab" data-bs-target="#mapa" type="button"
        role="tab">{{ 'clientDetail.tabs.map' | translate }}</button>
    </li>
  </ul>

  <!-- Tab content -->
  <div class="tab-content">
    <!-- Datos Generales -->
    <div class="tab-pane fade show active" id="datos" role="tabpanel">
      <div class="d-flex flex-column">
        <div>
          <mobentis-cliente-datos-generales [cliente]="this.cliente"></mobentis-cliente-datos-generales>
        </div>
        <div>
          <mobentis-cliente-economicos [cliente]="this.cliente"></mobentis-cliente-economicos>
        </div>
        <div>
          <mobentis-cliente-mas-info [cliente]="this.cliente"></mobentis-cliente-mas-info>
        </div>
      </div>

    </div>

    <!-- Otros tabs (vacíos por ahora) -->
    <div class="tab-pane fade" id="horarios" role="tabpanel">
      <p>{{ 'clientDetail.schedules.content' | translate }}</p>
    </div>
    <div class="tab-pane fade" id="contactos" role="tabpanel">
      <div>
        <mobentis-cliente-contactos [id_cliente]="this.id_cliente"></mobentis-cliente-contactos>
      </div>
      <div>
        <mobentis-cliente-direcciones [id_cliente]="this.id_cliente"></mobentis-cliente-direcciones>
      </div>
    </div>
    <div class="tab-pane fade" id="crm" role="tabpanel">
      <p>{{ 'clientDetail.crm.content' | translate }}</p>
    </div>
    <div class="tab-pane fade" id="mapa" role="tabpanel">
      <div class="map-container" *ngIf="mapCenter && markersData.length > 0">
        <mobentis-map [center]="mapCenter" [zoom]="15" [markersData]="markersData"></mobentis-map>
      </div>
      <div *ngIf="!mapCenter || markersData.length === 0" class="d-flex justify-content-center align-items-center h-100">
        <div class="text-muted">
          <i class="bi bi-geo-alt-fill me-2"></i>
          {{ 'clientDetail.map.noCoordinates' | translate }}
        </div>
      </div>
    </div>
  </div>
</mat-dialog-content>